{% extends "base.html" %} 
{% block title %}result{% endblock %}
{% block content %}
    <div id="izq" >
        <h1>Análisis del repositorio</h2>
        <h2>{{ NombreRepo }} - {{ NombreUser }}</h2>
        <h3>Este repositorio tiene un total de {{ totalFiles }} archivos</h3>
        <img src="data:image/png;base64,{{ image }}" alt="Gráfico de Porcentajes" height="400px" width="550px"><ul>{% for nombre, porcentaje in langPercentages.items() %}<li> {{ nombre }}: {{ porcentaje }}</li>{% endfor %}</ul>    
        </br>
        <h4>Análisis de los lenguajes minoritarios</h4>
        <p>Número de commits realizados sobre lenguajes minoritarios:</p>
        <ul>
            {% for lenguajemin, num in total_commits_min_languages.items() %}
            <li><strong>{{ lenguajemin }}</strong>: {{num}} </li>
            {% endfor %}
        </ul>
        <p>Usuarios con mayor número de commits realizados sobre los lenguajes minoritarios:</p>
        <ul>
            {% for lang, contributors in topcontributors.items() %}
                <li><strong>{{ lang }}:</strong></li>
                <ul>
                    {% for user, commits in contributors %}
                        <li>{{ user }}: {{ commits }} commits</li>
                    {% endfor %}
                </ul>
            {% endfor %}
        </ul>
    </div>
    <div id="der">
        <h4> Aportaciones de cada usuario en commits: </h4>
        <ul>
            {% for nombre, detalles in personas.items() %}
                <li>
                    <a href="#" class="user-link">{{ nombre }}</a>
                    <div class="commits-list" style="display: none;">
                        <ul>
                            {% for key, value in detalles.items() %}
                                <li>{{ key }}: {{ value }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
    <link rel="stylesheet" href="static/userrepo.css">
    <script src="static/userrepo.js"></script>
{% endblock %}
